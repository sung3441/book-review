# 리팩토링 이란

### 리팩토링 정의
- 리팩토링을해도 외부에서 보는 프로그램의 동작은 변하지 않을 것.
- 리팩토링을 하면 프로그램의 내부 구조가 개선된다.

>  Q.버그 수정은 리팩토링인가?  
> > 버그를 수정하면 외부에서 보는 프로그램 동작이 변하므로, 리팩토링이 아니다.

> Q.기능 추가는 리팩토링인가?
> > 기능을 추가하면 외부에서 보는 프로그램의 동작이 변하므로, 리팩토링이 아니다.

> Q.소스 코드 정리는 리팩토링인가?
> > 소스 코드를 정리하면 코드를 읽기 편해지지만, 프로그램이 동작에 변화가 생길 가능성도 있다.  
> > 반드시 외부에서 보는 프로그램 동작에 변화가 없어야 리팩토링이라고 할 수 있다.

### 리팩토링과 유닛 테스트
리팩토링을 해도 외부에서 보는 프로그램 동작은 변하지 않았다는 것을 확인하기 위해 테스트를 작성한다.
- 리팩토링 전 테스트
- 리팩토링
- 리팩토링 후 테스트

테스트가 없는 프로그램은 리팩토링 전 테스트부터 작성하자.

### 리팩토링의 목적
- 버그를 발견하기 쉬워진다.
- 기능을 추가하기 쉬워진다.
- 리뷰하기 쉬워진다.

### 리팩토링이 불가능할 때
- 프로그램이 아직 동작하지 않을 때
- 주어진 시간이 많지 않을 때

# 리팩토링과 악취
이해, 수정, 확장이 어려운 코드는 악취가 난다고 할 수 있음

### 리팩토링이 필요한 악취나는 코드
- 중복되는 코드가 많다.
- 메서드가 너무 길거나, 클래스의 내용이 너무 많다.
- 클래스가 너무 많다.
- 부적절한 네이밍
- 정보가 너무 공개적일 때 (public 접근제어자, 매직넘버, new 생성자)
- 객체 지향적이지 않을 때

# 리팩토링 방법: 스텝 바이 스텝

__한 번에 하나씩.__ 리팩토링에 있어 가장 중요한 부분.

- 여러 작업을 동시에 진행할 경우 실패할 확률이 높고, 효율적이지 못함.
- 하나씩 작업할 경우 리팩토링 중 문제가 생겨도 되돌리기 쉽다.
- 하나의 작업이 끝난 후 제대로 됐는지 확인
- 한 번에 바꾸기 보다 하나씩 바꾸기